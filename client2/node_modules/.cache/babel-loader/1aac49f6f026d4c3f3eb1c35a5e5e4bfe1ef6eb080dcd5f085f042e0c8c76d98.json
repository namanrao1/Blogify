{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Test\\\\Desktop\\\\Naman bhai ke aage\\\\MERN\\\\PROJECTS\\\\BLOG\\\\Blog-App-using-MERN-stack\\\\client2\\\\src\\\\componets\\\\UserBlogs.js\",\n  _s = $RefreshSig$();\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Blogs from \"./Blogs\";\nimport { makeStyles } from \"@mui/styles\";\nimport config from \"../config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(() => ({\n  card: {\n    width: \"40%\",\n    margin: \"auto\",\n    marginTop: \"20px\",\n    padding: \"20px\",\n    boxShadow: \"5px 5px 10px #ccc\",\n    transition: \"box-shadow 0.3s\",\n    position: \"relative\",\n    backgroundColor: \"#fff\"\n  },\n  cardButtons: {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    marginBottom: \"10px\"\n  },\n  editButton: {\n    backgroundColor: \"#007bff\",\n    border: \"none\",\n    color: \"white\",\n    padding: \"10px\",\n    marginLeft: \"10px\",\n    cursor: \"pointer\",\n    borderRadius: \"4px\"\n  },\n  deleteButton: {\n    backgroundColor: \"#dc3545\",\n    border: \"none\",\n    color: \"white\",\n    padding: \"10px\",\n    marginLeft: \"10px\",\n    cursor: \"pointer\",\n    borderRadius: \"4px\"\n  },\n  cardHeader: {\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: \"10px\"\n  },\n  avatar: {\n    backgroundColor: \"red\",\n    color: \"white\",\n    borderRadius: \"50%\",\n    width: \"40px\",\n    height: \"40px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    fontSize: \"18px\",\n    marginRight: \"10px\"\n  },\n  cardTitle: {\n    fontSize: \"18px\",\n    fontWeight: \"bold\"\n  },\n  cardImage: {\n    width: \"100%\",\n    height: \"194px\",\n    objectFit: \"cover\",\n    marginTop: \"10px\"\n  },\n  cardContent: {\n    marginTop: \"10px\"\n  }\n}));\nconst UserBlogs = ({\n  userid\n}) => {\n  _s();\n  const classes = useStyles();\n  const [blogs, setBlogs] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const fetchBlogs = async () => {\n    try {\n      const res = await axios.get(`http://localhost:5000/api/blogs/user/${userid}`);\n      setBlogs(res.data.user.blogs);\n    } catch (err) {\n      console.error(\"Error fetching blogs:\", err);\n      setError(\"Failed to fetch blogs.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchBlogs();\n  }, [userid]);\n  const handleDelete = async blogId => {\n    try {\n      await axios.delete(`${config.BASE_URL}/api/blogs/${blogId}`);\n      // Update the state to reflect the deletion\n      setBlogs(prevBlogs => prevBlogs.filter(blog => blog._id !== blogId));\n    } catch (err) {\n      console.error(\"Error deleting blog:\", err);\n      setError(\"Failed to delete blog.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.container,\n    children: [loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: classes.loading,\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: classes.error,\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }, this), blogs.map(blog => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.card,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.cardHeader,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.avatar,\n          children: blog.userName ? blog.userName.charAt(0) : \"U\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.cardTitle,\n          children: blog.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: classes.cardImage,\n        src: blog.image,\n        alt: blog.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.cardContent,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: blog.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.cardButtons,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: classes.editButton,\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: classes.deleteButton,\n          onClick: () => handleDelete(blog._id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this)]\n    }, blog._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n};\n_s(UserBlogs, \"8xaVB0pGiprC+oP0c2KeBhb039k=\", false, function () {\n  return [useStyles];\n});\n_c = UserBlogs;\nexport default UserBlogs;\nvar _c;\n$RefreshReg$(_c, \"UserBlogs\");","map":{"version":3,"names":["React","useEffect","useState","axios","Blogs","makeStyles","config","jsxDEV","_jsxDEV","useStyles","card","width","margin","marginTop","padding","boxShadow","transition","position","backgroundColor","cardButtons","display","justifyContent","marginBottom","editButton","border","color","marginLeft","cursor","borderRadius","deleteButton","cardHeader","alignItems","avatar","height","fontSize","marginRight","cardTitle","fontWeight","cardImage","objectFit","cardContent","UserBlogs","userid","_s","classes","blogs","setBlogs","loading","setLoading","error","setError","fetchBlogs","res","get","data","user","err","console","handleDelete","blogId","delete","BASE_URL","prevBlogs","filter","blog","_id","className","container","children","fileName","_jsxFileName","lineNumber","columnNumber","map","userName","charAt","title","src","image","alt","description","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Test/Desktop/Naman bhai ke aage/MERN/PROJECTS/BLOG/Blog-App-using-MERN-stack/client2/src/componets/UserBlogs.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Blogs from \"./Blogs\";\r\nimport { makeStyles } from \"@mui/styles\";\r\nimport config from \"../config\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  card: {\r\n    width: \"40%\",\r\n    margin: \"auto\",\r\n    marginTop: \"20px\",\r\n    padding: \"20px\",\r\n    boxShadow: \"5px 5px 10px #ccc\",\r\n    transition: \"box-shadow 0.3s\",\r\n    position: \"relative\",\r\n    backgroundColor: \"#fff\",\r\n  },\r\n  cardButtons: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n    marginBottom: \"10px\",\r\n  },\r\n  editButton: {\r\n    backgroundColor: \"#007bff\",\r\n    border: \"none\",\r\n    color: \"white\",\r\n    padding: \"10px\",\r\n    marginLeft: \"10px\",\r\n    cursor: \"pointer\",\r\n    borderRadius: \"4px\",\r\n  },\r\n  deleteButton: {\r\n    backgroundColor: \"#dc3545\",\r\n    border: \"none\",\r\n    color: \"white\",\r\n    padding: \"10px\",\r\n    marginLeft: \"10px\",\r\n    cursor: \"pointer\",\r\n    borderRadius: \"4px\",\r\n  },\r\n  cardHeader: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    marginBottom: \"10px\",\r\n  },\r\n  avatar: {\r\n    backgroundColor: \"red\",\r\n    color: \"white\",\r\n    borderRadius: \"50%\",\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    fontSize: \"18px\",\r\n    marginRight: \"10px\",\r\n  },\r\n  cardTitle: {\r\n    fontSize: \"18px\",\r\n    fontWeight: \"bold\",\r\n  },\r\n  cardImage: {\r\n    width: \"100%\",\r\n    height: \"194px\",\r\n    objectFit: \"cover\",\r\n    marginTop: \"10px\",\r\n  },\r\n  cardContent: {\r\n    marginTop: \"10px\",\r\n  },\r\n}));\r\n\r\nconst UserBlogs = ({ userid }) => {\r\n  const classes = useStyles();\r\n  const [blogs, setBlogs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchBlogs = async () => {\r\n    try {\r\n      const res = await axios.get(`http://localhost:5000/api/blogs/user/${userid}`);\r\n      setBlogs(res.data.user.blogs);\r\n    } catch (err) {\r\n      console.error(\"Error fetching blogs:\", err);\r\n      setError(\"Failed to fetch blogs.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchBlogs();\r\n  }, [userid]);\r\n\r\n  const handleDelete = async (blogId) => {\r\n    try {\r\n      await axios.delete(`${config.BASE_URL}/api/blogs/${blogId}`);\r\n      // Update the state to reflect the deletion\r\n      setBlogs((prevBlogs) => prevBlogs.filter(blog => blog._id !== blogId));\r\n    } catch (err) {\r\n      console.error(\"Error deleting blog:\", err);\r\n      setError(\"Failed to delete blog.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      {loading && <p className={classes.loading}>Loading...</p>}\r\n      {error && <p className={classes.error}>{error}</p>}\r\n      {blogs.map((blog) => (\r\n        <div key={blog._id} className={classes.card}>\r\n          <div className={classes.cardHeader}>\r\n            <div className={classes.avatar}>\r\n              {blog.userName ? blog.userName.charAt(0) : \"U\"}\r\n            </div>\r\n            <div className={classes.cardTitle}>{blog.title}</div>\r\n          </div>\r\n          <img\r\n            className={classes.cardImage}\r\n            src={blog.image}\r\n            alt={blog.title}\r\n          />\r\n          <div className={classes.cardContent}>\r\n            <p>{blog.description}</p>\r\n          </div>\r\n          <div className={classes.cardButtons}>\r\n            <button className={classes.editButton}>Edit</button>\r\n            <button className={classes.deleteButton} onClick={() => handleDelete(blog._id)}>\r\n              Delete\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserBlogs;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}